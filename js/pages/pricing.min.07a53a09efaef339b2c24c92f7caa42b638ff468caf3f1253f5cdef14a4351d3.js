"use strict";(()=>{var e={apiurl:"https://us-central1-spine-site-server.cloudfunctions.net/paymentTransaction",orderurl:"https://secure.2checkout.com/checkout/buy?merchant=999999999589&currency=EUR&tpl=default&prod=4HJME1JJDF&qty=1",recaptchakey:"6Lef7b0ZAAAAAHPIbf6XQIzzeyCoSzS56GTej1c0"};$(function(){const u=$("#privacyConsent"),j=$("#supportAgreementConsent"),n=$(".pricing-btn-holder"),i=$("#order-now-btn"),t=$("#redirectScreen"),a=t.find(".redirect-loader"),r=t.find(".redirect-error"),m=t.find("#linkBack"),s=$("input[type='checkbox'].consent"),d=e.recaptchakey,l=e.orderurl,h=e.apiurl;n.tooltip("enable"),s.change(()=>{f(n,c())}),i.click(()=>{c()&&p()}),m.click(e=>{e.preventDefault(),o()});function c(){return s.length==s.filter(":checked").length}function f(e,t){const s=e.find(i);t?(s.removeAttr("disabled"),s.removeClass("disabled"),n.tooltip("disable")):(s.attr("disabled",!0),s.addClass("disabled"),n.tooltip("enable"))}function p(){const e=`${h}/transaction`,t=u.prop("checked"),n=j.prop("checked");v(),grecaptcha.ready(()=>{grecaptcha.execute(d,{action:"submitPaymentTransaction"}).then(s=>{const o={consent:{privacyConsent:t,supportAgreementConsent:n},token:s};g(e,o)})})}function g(e,t){$.ajax(e,{type:"POST",data:JSON.stringify(t),contentType:"application/json",success:e=>{y(e),o()},error:e=>{console.error(`${e.status}: ${e.statusText}`),console.error(`Error message: ${e.responseJSON.message}`),b()}})}function v(){r.hide(),a.show(),t.show()}function b(){a.hide(),r.show()}function o(){t.hide()}function y(e){window.location=`${l}&customer-ext-ref=${e.id}&signature=${e.signature}`}})})()